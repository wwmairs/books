<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>WWMAIRS BOOKS</title>
    <!-- <link rel="icon" type="img/png" href="favicons/line3.png"> -->
    <link rel="stylesheet" href="https://use.typekit.net/svz0faz.css">
    <link href="style.css?v=1.0.0" rel="stylesheet"/>
</head>

<body>
    <div class="wrapper">
        <div class="title">
            <h1>wwmairs books</h1>
        </div>
        <div class="content">
            <div id="index-links-container">
            </div>
        </div>
    </div>
</body>
</html>

<script>
    var entries;
    var categories = new Set();
    fetch("/books/entries.json").then(function (data) {
        return data.json();
    }).then (function (json) {
        entries = json;
        init();
    });

    function init() {
        entries.map(function (e) { categories.add(e.category) });
        var linksContainer = document.getElementById("index-links-container");
        categories.forEach(function (c) {
            var h2 = document.createElement("h2");
            var link = document.createElement("a");
            link.setAttribute("class", "index-links");
            link.setAttribute("href", "/books/list.html?category=" + c);
            link.innerHTML = c;
            h2.appendChild(link);
            linksContainer.appendChild(h2);
        });
    }
</script>
